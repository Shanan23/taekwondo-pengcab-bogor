<%- include('../partials/admin-header') %>

<% if(messages && messages.error && messages.error.length) { %>
  <div class="alert alert-danger alert-dismissible fade show" role="alert">
    <%= messages.error %>
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>
<% } else if(messages && messages.success && messages.success.length) { %>
  <div class="alert alert-success alert-dismissible fade show" role="alert">
    <%= messages.success %>
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>
<% } %>

<div class="content-wrapper">
  <div class="container-fluid px-4">
    <h1 class="mt-4">Manage Vision & Mission</h1>
    <ol class="breadcrumb mb-4">
        <li class="breadcrumb-item"><a href="/admin">Dashboard</a></li>
        <li class="breadcrumb-item active">Vision & Mission</li>
    </ol>

    <div class="row">
        <!-- Vision Section -->
        <div class="col-xl-6">
            <div class="card mb-4">
                <div class="card-header">
                    <i class="fas fa-eye me-1"></i>
                    Vision
                </div>
                <div class="card-body">
                    <form action="/admin/vision-mission/vision" method="POST">
                        <div class="mb-3">
                            <label for="visionContent" class="form-label">Vision Content</label>
                            <textarea class="form-control" id="visionContent" name="content" rows="6" required><%= vision ? vision.content : '' %></textarea>
                        </div>
                        <div class="mb-3">
                            <label for="visionImage" class="form-label">Vision Image</label>
                            <input type="file" class="form-control" id="visionImage" name="image" accept="image/*">
                            <% if (vision && vision.image) { %>
                                <div class="mt-2">
                                    <img src="<%= vision.image %>" alt="Current vision image" class="img-thumbnail" style="max-height: 200px;">
                                </div>
                            <% } %>
                        </div>
                        <button type="submit" class="btn btn-primary">Save Vision</button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Mission Section -->
        <div class="col-xl-6">
            <div class="card mb-4">
                <div class="card-header">
                    <i class="fas fa-bullseye me-1"></i>
                    Mission
                </div>
                <div class="card-body">
                    <form action="/admin/vision-mission/mission" method="POST">
                        <div class="mb-3">
                            <label for="missionContent" class="form-label">Mission Content</label>
                            <textarea class="form-control" id="missionContent" name="content" rows="6" required><%= mission ? mission.content : '' %></textarea>
                        </div>
                        <div class="mb-3">
                            <label for="missionImage" class="form-label">Mission Image</label>
                            <input type="file" class="form-control" id="missionImage" name="image" accept="image/*">
                            <% if (mission && mission.image) { %>
                                <div class="mt-2">
                                    <img src="<%= mission.image %>" alt="Current mission image" class="img-thumbnail" style="max-height: 200px;">
                                </div>
                            <% } %>
                        </div>
                        <button type="submit" class="btn btn-primary">Save Mission</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
  </div>
</div>

<%- include('../partials/admin-footer') %> 